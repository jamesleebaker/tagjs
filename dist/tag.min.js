!function(){function t(t){return"string"==typeof t&&t.trim().length>0}function e(t){var e,r,n,i={};if(!t||t.length<1)return i;for(r=0,n=t.length;n>r;r+=1)e=t[r].replace(/['\"\[\]]/g,"").split("="),i[e[0]]=e[1];return i}function r(t){var r="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",n="[\\x20\\t\\r\\n\\f]",i=r.replace("w","w#"),o=t.match(new RegExp("("+r.replace("w","w*")+")")),s=t.match(new RegExp("\\.("+r+")","g")),a=t.match(new RegExp("#("+r+")")),u=t.match(new RegExp("\\["+n+"*("+r+")"+n+"*(?:([*^$|!~]?=)"+n+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+i+")|)|)"+n+"*\\]","g"));return u=e(u),s=!s||s.length<1?"":s.join(" ").replace(/\./g,""),a=a?a[0].replace("#",""):void 0,s&&(u["class"]=s),a&&(u.id=a),{tag:o[0],attributes:u}}function n(t,e){var r=e.attributes;for(var n in r){var i=r[n];i&&t.setAttribute(n,i)}return t}function i(t){var e=document.createElement(t.name),r=document.createDocumentFragment();return t.children.length?(t.children.forEach(function(t){r.appendChild(i(t))}),e.appendChild(r)):e.innerText=t.innerText,n(e,t)}function o(e){if(!t(e))throw"The selector provided does not supply a valid tag";return new s(e)}var s,a=/area|base|basefont|br|hr|input|img|link|meta/,u="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this;s=function(t){var e=r(t);this.name=e.tag,this.attributes=e.attributes,this.innerText="",this.children=[]},s.prototype.add=function(){var t,e,r=Array.prototype.slice.call(arguments);if(r.length)for(t=0,e=r.length;e>t;t+=1)this.children.push(r[t]);return this},s.prototype.getAttr=function(e){return t(e)?this.attributes[e]:void 0},s.prototype.setAttr=function(e,r){return t(e)&&t(r)&&(this.attributes[e]=r),this},s.prototype.addIf=function(t,e){return e instanceof s?t?this.add(e):this:void 0},s.prototype.setText=function(t){return this.innerText=String(t),this},s.prototype.addClass=function(t){var e=this.attributes["class"];return-1===e.indexOf(t)&&(this.attributes["class"]+=[" ",t].join("")),this},s.prototype.removeClass=function(e){var r,n=this.attributes["class"];return t(e)?(t(n)&&(n=n.split(" "),r=n.indexOf(e),r>-1&&(n.splice(r,1),this.attributes["class"]=n.join(" "))),this):this},s.prototype.removeClassIf=function(e,r){return e&&t(r)?this.removeClass(r):this},s.prototype.removeAttr=function(t){return delete this.attributes[t],this},s.prototype.removeAttrIf=function(e,r){return e&&t(r)?this.removeAttr(r):this},s.prototype.addAttr=function(e,r){var n;if("object"==typeof e){for(n in e)e.hasOwnProperty(n)&&!this.attributes[n]&&(this.attributes[n]=e[n]);return this}return t(e)&&t(r)&&(this.attributes[n]||(this.attributes[e]=r)),this},s.prototype.addAttrIf=function(t,e,r){return t?this.addAttr(e,r):this},s.prototype.addClassIf=function(t,e){return t?this.addClass(e):this},s.prototype.render=function(t){var e,r,n,o="",s=t||{format:"HTMLElement"},u=this.attributes,h=["<",this.name],p=this.children,f=a.test(this.name);if(window&&window.document&&"HTMLElement"===s.format)return i(this);if(u)for(n in u)u.hasOwnProperty(n)&&u[n]&&h.push(" ",n,'="',u[n],'"');if(f){if(h.push(" />"),p.length)throw["Nested content was provided for the tag name: ",this.name].join("")}else{for(h.push(">"),e=0,r=p.length;r>e;e+=1)o+="string"==typeof p[e]?p[e]:p[e].render();this.innerText.length>0&&h.push(this.innerText),o.length>0&&h.push(o),h.push(["</",this.name,">"].join(""))}return h.join("")},"undefined"==typeof exports||exports.nodeType?u.Tag=o:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=o),exports.Tag=o),"function"==typeof define&&define.amd&&define("tag",[],function(){return o})}();
//# sourceMappingURL=tag.min.js.map
